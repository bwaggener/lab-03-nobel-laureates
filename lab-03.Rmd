---
title: "Lab 03 - Nobel laureates"
author: "Ben Waggener"
date: "01/31/2025"
output: github_document
---

### Load packages and data

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
nobel <- read_csv("data/nobel.csv")
```

## Exercises

### Exercise 1

"How many observations and how many variables are in the dataset? Use inline code to answer this question. What does each row represent?"

```{r read-data}
names(nobel)
```

```{r summaryofdata}
glimpse(nobel)

```


There are 26 variables and 935 observations. Each row represents an observation (a nobel laureate).



### Exercise 2

"create a new data frame called nobel_living that filters for laureates for whom country is available, laureates who are people as opposed to organizations (organizations are denoted with "org" as their gender), and laureates who are still alive (their died_date is NA)."

##use "NA" to indicate that country is unavailable.

``` {r filteringdata}

nobel_living <- nobel %>%
  filter(!is.na(country)) %>%
  filter(!is.na(gender)) %>%
  filter(!is.na(died_date))
```



### Exercise 3

Creating the new variable

```{r mutatecountryus}

nobel_living <- nobel_living %>%
  mutate(
    country_us = if_else(country == "USA", "USA", "Other")
  )

```

Restricting the analysis to only Physics, Medicine, Chemistry, and Economics.

```{r selectingthefieldsofstudy}

nobel_living_science <- nobel_living %>%
  filter(category %in% c("Physics", "Medicine", "Chemistry", "Economics"))

```

Here I created the nobel_living_science dataframe that I will use for this section.

"Create a faceted bar plot visualizing the relationship between the category of prize and whether the laureate was in the US when they won the nobel prize. Interpret your visualization, and say a few words about whether the Buzzfeed headline is supported by the data."

```{r barplotbycategory}

ggplot(nobel_living_science, aes(y = country_us))+
  geom_bar()+
  facet_wrap(~category)
```
This data does not support the Buzzfeed article claim that "Most living Nobel laureates were based in the US when they won their prizes". Instead this shows that most living nobel laureates were based in places other than the US. Although it may still be true that the US has the most nobel laureates but that's not really what they said.

### Exercise 4
"Create a new variable called born_country_us that has the value "USA" if the laureate is born in the US, and "Other" otherwise. How many of the winners are born in the US?"

```{r newvariable_borninus}

nobel_living_science <- nobel_living_science %>%
  mutate(
    born_country_us = if_else(country == "USA", "USA", "Other")
  )


ggplot(nobel_living_science, aes(y = born_country_us))+
  geom_bar()
```

Looking at this plot, it is clear that while a majority of living nobel winners were born outside of the us, a surprising number were born in the us.



### Exercise 5

...

### Exercise 6

...
